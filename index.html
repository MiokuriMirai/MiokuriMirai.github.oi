<!DOCTYPE html>
<html lang="zh-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>没有光影的世界，还能有电影吗？</title>
    <link rel="stylesheet" href="stylexiugai.css">
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <meta name="description" content="探索不同视障人士眼中的世界，通过视频体验不同的视觉效果。">
    <meta name="keywords" content="视障, 视觉效果, 电影, 光影, 视频体验">
</head>

<body>
    <section class="toutu">
        <img id="mubuzuo" src="img/幕布.png" alt="左边幕布">
        <h1 id="页面一标题">没有光影的世界，<br>还能有电影吗？</h1>
        <img id="mubuyou" src="img/幕布2.png" alt="右边幕布">
    </section>

    <section class="video-container">
        <video id="video" class="video" src="vedio/熟悉的声音要回来了！龙标好久不见！ - 1.熟悉的声音要回来了！龙标好久不见！(Av968826482,P1).mp4" autoplay muted loop></video>
        <video id="background-video" class="video" src="vedio/熟悉的声音要回来了！龙标好久不见！ - 1.熟悉的声音要回来了！龙标好久不见！(Av968826482,P1).mp4" autoplay muted loop></video>
        <div id="mask" class="mask"></div>
        <img id="black-img" class="black-img" src="black.jpg" alt="全黑图片" style="display: none;">

        <div class="content">
            <h1 id="headline">明眼人视角</h1>
            <p id="text">点击按钮查看不同视障人士眼中的画面</p>
            <div class="button-container">
                <button onclick="changeEffect(0)">四级低视力</button>
                <button onclick="changeEffect(1)">三级低视力</button>
                <button onclick="changeEffect(2)">二级盲</button>
                <button onclick="changeEffect(3)">一级盲</button>
                <button onclick="changeEffect(4)">视野受限</button>
            </div>
        </div>
    </section>

    <script>
        var videos = [
            { src: "vedio/模糊1.mp4", headline: "四级低视力", text: "0.1<=双眼最佳矫正视力<0.3" },
            { src: "vedio/模糊2.mp4", headline: "三级低视力", text: "0.05<=双眼最佳矫正视力<0.1" },
            { src: "vedio/模糊3.mp4", headline: "二级盲", text: "0.02<=双眼最佳矫正视力<0.05" },
            { src: "vedio/模糊4.mp4", headline: "一级盲", text: "无光感<双眼最佳矫正视力<0.02" }
        ];
        var isVideoEffect = true;

        function changeEffect(index) {
            if (index < 4) {
                changeVideo(index);
            } else {
                switchToMaskEffect();
            }
        }

        function changeVideo(index) {
            var videoElement = document.getElementById('video');
            var headlineElement = document.getElementById('headline');
            var textElement = document.getElementById('text');
            var maskElement = document.getElementById('mask');
            var blackImg = document.getElementById('black-img');
            var backgroundVideoElement = document.getElementById('background-video');

            videoElement.src = videos[index].src;
            headlineElement.textContent = videos[index].headline;
            textElement.textContent = videos[index].text;
            maskElement.style.display = 'none';
            blackImg.style.display = 'none';
            backgroundVideoElement.pause();

            videoElement.load();
        }

        function switchToMaskEffect() {
            var headlineElement = document.getElementById('headline');
            var textElement = document.getElementById('text');
            var maskElement = document.getElementById('mask');
            var blackImg = document.getElementById('black-img');
            var videoElement = document.getElementById('video');
            var backgroundVideoElement = document.getElementById('background-video');

            headlineElement.textContent = "视野半径受限";
            textElement.textContent = "二级盲：视野半径<10度，一级盲：视野半径<5度";
            maskElement.style.display = 'block';
            blackImg.style.display = 'block';

            backgroundVideoElement.src = "vedio/熟悉的声音要回来了！龙标好久不见！ - 1.熟悉的声音要回来了！龙标好久不见！(Av968826482,P1).mp4";
            backgroundVideoElement.play();

            document.addEventListener('mousemove', handleMouseMove);
        }

        function handleMouseMove(e) {
            const mask = document.getElementById('mask');
            const rect = mask.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            mask.style.background = `radial-gradient(circle at ${x}px ${y}px, transparent 100px, black 150px)`;
        }

        window.addEventListener('scroll', function () {
            var scrollTop = window.scrollY;
            var videoContainer = document.querySelector('.video-container');
            var titleElement = document.getElementById('页面一标题');

            if (scrollTop > 0) {
                videoContainer.style.transform = 'translateY(-' + scrollTop + 'px)';
                titleElement.style.opacity = 1 - (scrollTop / videoContainer.clientHeight);
            } else {
                videoContainer.style.transform = 'translateY(0)';
                titleElement.style.opacity = 1;
            }
        });
    </script>
</body>

</html>
